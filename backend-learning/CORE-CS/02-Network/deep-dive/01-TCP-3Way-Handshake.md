# TCP 3-Way Handshake - μ—°κ²°μ€ μ–΄λ–»κ² λ§Ίμ–΄μ§€λ”κ°€?

> "μ™ 2-Wayκ°€ μ•„λ‹λΌ 3-WayμΌκΉ?"

## π― ν•™μµ λ©ν‘

- TCP μ—°κ²° μλ¦½ κ³Όμ •μ„ **ν¨ν‚· λ λ²¨**μ—μ„ μ΄ν•΄
- **μ™ 3λ²μ ν•Έλ“μ…°μ΄ν¬κ°€ ν•„μ”**ν•μ§€ νμ•…
- μ‹¤μ  ν¨ν‚·μ„ μΊ΅μ²ν•μ—¬ **μ§μ ‘ ν™•μΈ**

## π¤” μ™ 3-Way HandshakeμΈκ°€?

### μ§λ¬Έ 1: μ™ μ—°κ²°μ΄ ν•„μ”ν•κ°€?

UDPλ” μ—°κ²° μ—†μ΄ λ°”λ΅ λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ”λ°, TCPλ” μ™ μ—°κ²°λ¶€ν„° λ§Ίμ„κΉ?

```
UDP (μ—°κ²° μ—†μ):
β”β”€β”€β”€β”€β”€β”€β”                    β”β”€β”€β”€β”€β”€β”€β”
β”‚ ν΄λΌμ΄β”‚ β”€β”€β”€ λ°μ΄ν„° β”€β”€β”€β†’   β”‚μ„λ²„  β”‚
β””β”€β”€β”€β”€β”€β”€β”                    β””β”€β”€β”€β”€β”€β”€β”
         ν¨ν‚·μ΄ λ„μ°©ν–λ”μ§€ λ¨λ¦„
         μμ„κ°€ λ³΄μ¥λμ§€ μ•μ

TCP (μ—°κ²° μμ):
β”β”€β”€β”€β”€β”€β”€β”                    β”β”€β”€β”€β”€β”€β”€β”
β”‚ ν΄λΌμ΄β”‚ β†β”€β”€ μ—°κ²° μλ¦½ β”€β”€β†’  β”‚μ„λ²„  β”‚
β”‚μ–ΈνΈ  β”‚                    β”‚      β”‚
β”‚      β”‚ β”€β”€β”€ λ°μ΄ν„° β”€β”€β”€β†’    β”‚      β”‚
β”‚      β”‚ β†β”€β”€ ACK β”€β”€β”€β”€β”€β”€β”€β”€   β”‚      β”‚
β””β”€β”€β”€β”€β”€β”€β”                    β””β”€β”€β”€β”€β”€β”€β”
         ν¨ν‚· λ„μ°© ν™•μΈ
         μμ„ λ³΄μ¥
```

**TCPκ°€ μ—°κ²°μ„ λ§Ίλ” μ΄μ **:
1. **μ–‘λ°©ν–¥ ν†µμ‹  ν™•μΈ**: ν΄λΌμ΄μ–ΈνΈβ†’μ„λ²„, μ„λ²„β†’ν΄λΌμ΄μ–ΈνΈ λ¨λ‘ κ°€λ¥ν•μ§€
2. **μ΄κΈ° μ‹ν€€μ¤ λ²νΈ κµν™**: λ°μ΄ν„° μμ„λ¥Ό μ¶”μ ν•κΈ° μ„ν• λ²νΈ
3. **λ²„νΌ ν¬κΈ° ν‘μƒ**: ν• λ²μ— λ³΄λ‚Ό μ μλ” λ°μ΄ν„° ν¬κΈ°

### μ§λ¬Έ 2: μ™ 2-Wayκ°€ μ•„λ‹κ°€?

```
2-Way Handshake (λ¶μ¶©λ¶„):
ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„: "μ—°κ²° μ”μ²­"
μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ: "OK"

λ¬Έμ :
1. μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ λ°©ν–¥μ΄ μ •μƒμΈμ§€ ν™•μΈ μ• λ¨
2. μ§€μ—°λ μ¤‘λ³µ μ—°κ²° μ”μ²­ μ²λ¦¬ λ¶κ°€λ¥
```

**μ§€μ—°λ μ¤‘λ³µ μ”μ²­ λ¬Έμ **:
```
μƒν™©:
1. ν΄λΌμ΄μ–ΈνΈκ°€ SYN λ³΄λƒ„
2. λ„¤νΈμ›ν¬ μ§€μ—°μΌλ΅ λ„μ°© μ• ν•¨
3. ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¤μ‹ SYN λ³΄λƒ„
4. λ‘ λ²μ§Έ SYNμΌλ΅ μ—°κ²° μ„±κ³µ
5. μ²« λ²μ§Έ SYNμ΄ λ’¤λ¦κ² λ„μ°©

2-WayλΌλ©΄:
μ„λ²„κ°€ μ²« λ²μ§Έ SYNμ—λ„ μ‘λ‹µ β†’ μ¤‘λ³µ μ—°κ²° μƒμ„±!

3-WayλΌλ©΄:
ν΄λΌμ΄μ–ΈνΈκ°€ μ²« λ²μ§Έ SYN-ACKλ¥Ό λ¬΄μ‹ β†’ μ¤‘λ³µ μ—°κ²° λ°©μ§€ β…
```

## π“ 3-Way Handshake κ³Όμ •

### μ „μ²΄ νλ¦„

```
ν΄λΌμ΄μ–ΈνΈ                           μ„λ²„
    β”‚                                 β”‚
    β”‚  1. SYN (seq=100)               β”‚
    β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’  β”‚  LISTEN μƒνƒ
    β”‚                                 β”‚
    β”‚                                 β”‚  SYN_RECEIVED μƒνƒ
    β”‚  2. SYN-ACK (seq=300, ack=101) β”‚
    β”‚ β†β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€  β”‚
    β”‚                                 β”‚
    β”‚  3. ACK (seq=101, ack=301)     β”‚
    β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’  β”‚
    β”‚                                 β”‚
    β”‚     ESTABLISHED                 β”‚  ESTABLISHED
    β”‚                                 β”‚
    β”‚  4. λ°μ΄ν„° μ „μ†΅ μ‹μ‘            β”‚
    β”‚ β†β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’ β”‚
```

### λ‹¨κ³„λ³„ μƒμ„Έ μ„¤λ…

#### Step 1: SYN (ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„)

**ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚΄λ” μ •λ³΄**:
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ TCP ν—¤λ”                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ Source Port: 50234                  β”‚
β”‚ Destination Port: 80                β”‚
β”‚ Sequence Number: 1000 (λλ¤)        β”‚
β”‚ Acknowledgment Number: 0            β”‚
β”‚ Flags: SYN=1                        β”‚  β† μ¤‘μ”!
β”‚ Window Size: 65535                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μλ―Έ**:
- **SYN ν”λκ·Έ**: "μ—°κ²°μ„ μ‹μ‘ν•κ³  μ‹¶μ–΄μ”"
- **Sequence Number**: "λ‚΄κ°€ λ³΄λ‚Ό λ°μ΄ν„°μ μ‹μ‘ λ²νΈλ” 1000μ…λ‹λ‹¤"
- **Window Size**: "λ‚λ” 65535 λ°”μ΄νΈκΉμ§€ ν• λ²μ— λ°›μ„ μ μμ–΄μ”"

**μ„λ²„μ μƒνƒ λ³€ν™”**:
```
LISTEN β†’ SYN_RECEIVED
```

#### Step 2: SYN-ACK (μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ)

**μ„λ²„κ°€ λ³΄λ‚΄λ” μ •λ³΄**:
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ TCP ν—¤λ”                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ Source Port: 80                     β”‚
β”‚ Destination Port: 50234             β”‚
β”‚ Sequence Number: 3000 (λλ¤)        β”‚  β† μ„λ²„μ μ‹μ‘ λ²νΈ
β”‚ Acknowledgment Number: 1001         β”‚  β† 1000+1
β”‚ Flags: SYN=1, ACK=1                 β”‚  β† μ¤‘μ”!
β”‚ Window Size: 43690                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μλ―Έ**:
- **SYN ν”λκ·Έ**: "λ‚λ„ μ—°κ²°μ„ μ‹μ‘ν• κ²μ”"
- **ACK ν”λκ·Έ**: "λ„μ SYN(1000)μ„ λ°›μ•μ–΄, λ‹¤μμ€ 1001λ¶€ν„° λ³΄λ‚΄"
- **Sequence Number**: "λ‚΄κ°€ λ³΄λ‚Ό λ°μ΄ν„°μ μ‹μ‘ λ²νΈλ” 3000μ…λ‹λ‹¤"

**ν΄λΌμ΄μ–ΈνΈμ μƒνƒ λ³€ν™”**:
```
SYN_SENT β†’ ESTABLISHED (κ±°μ)
```

#### Step 3: ACK (ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„)

**ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚΄λ” μ •λ³΄**:
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ TCP ν—¤λ”                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ Source Port: 50234                  β”‚
β”‚ Destination Port: 80                β”‚
β”‚ Sequence Number: 1001               β”‚
β”‚ Acknowledgment Number: 3001         β”‚  β† 3000+1
β”‚ Flags: ACK=1                        β”‚  β† SYN μ—†μ!
β”‚ Window Size: 65535                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μλ―Έ**:
- **ACK ν”λκ·Έ**: "λ„μ SYN(3000)λ„ λ°›μ•μ–΄, λ‹¤μμ€ 3001λ¶€ν„° λ³΄λ‚΄"

**μ„λ²„μ μƒνƒ λ³€ν™”**:
```
SYN_RECEIVED β†’ ESTABLISHED
```

**μ΄μ  μ–‘λ°©ν–¥ ν†µμ‹  μ¤€λΉ„ μ™„λ£!** β…

## π”¬ μ‹¤μ  ν¨ν‚· λ³΄κΈ°

### Wiresharkλ΅ μΊ΅μ²

```bash
# 1. ν¨ν‚· μΊ΅μ² μ‹μ‘
sudo tcpdump -i any -w handshake.pcap "port 80"

# 2. λ‹¤λ¥Έ ν„°λ―Έλ„μ—μ„ HTTP μ”μ²­
curl http://example.com

# 3. μΊ΅μ² μΆ…λ£ (Ctrl+C)

# 4. Wiresharkλ΅ μ—΄κΈ°
wireshark handshake.pcap
```

### μΊ΅μ² κ²°κ³Ό μμ‹

```
No.  Time      Source         Dest           Protocol  Info
1    0.000000  192.168.1.100  93.184.216.34  TCP       [SYN] Seq=0 Len=0
2    0.045123  93.184.216.34  192.168.1.100  TCP       [SYN, ACK] Seq=0 Ack=1 Len=0
3    0.045234  192.168.1.100  93.184.216.34  TCP       [ACK] Seq=1 Ack=1 Len=0
4    0.045456  192.168.1.100  93.184.216.34  HTTP      GET / HTTP/1.1
```

**λ¶„μ„**:
- ν¨ν‚· 1~3: 3-Way Handshake (45ms μ†μ”)
- ν¨ν‚· 4: HTTP μ”μ²­ μ‹μ‘

### TCP ν”λκ·Έ λΉ„νΈ

```
TCP ν—¤λ”μ ν”λκ·Έ ν•„λ“:
β”β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”
β”‚CWRβ”‚ECEβ”‚URGβ”‚ACKβ”‚PSHβ”‚RSTβ”‚SYNβ”‚FINβ”‚
β””β”€β”€β”€β”΄β”€β”€β”€β”΄β”€β”€β”€β”΄β”€β”€β”€β”΄β”€β”€β”€β”΄β”€β”€β”€β”΄β”€β”€β”€β”΄β”€β”€β”€β”

SYN (Synchronize):    μ—°κ²° μ‹μ‘
ACK (Acknowledgment): ν™•μΈ μ‘λ‹µ
FIN (Finish):         μ—°κ²° μΆ…λ£
RST (Reset):          μ—°κ²° κ°•μ  μΆ…λ£
PSH (Push):           μ¦‰μ‹ μ „λ‹¬
URG (Urgent):         κΈ΄κΈ‰ λ°μ΄ν„°
```

## π’΅ μ‹ν€€μ¤ λ²νΈ (Sequence Number)

### μ™ λλ¤ λ²νΈλ΅ μ‹μ‘ν•λ”κ°€?

```
λ§μ•½ 0λ¶€ν„° μ‹μ‘ν•λ‹¤λ©΄:
1. μ—°κ²° 1: SEQ 0~1000 μ‚¬μ©
2. μ—°κ²° μΆ…λ£
3. μ—°κ²° 2: λ SEQ 0λ¶€ν„° μ‹μ‘
4. λ§μ•½ μ—°κ²° 1μ ν¨ν‚·μ΄ μ§€μ—°λμ–΄ λ„μ°©ν•λ©΄?
   β†’ μ—°κ²° 2μ ν¨ν‚·μΌλ΅ μ¤μΈ! π›
```

**λλ¤ μ‹μ‘ λ²νΈμ μ¥μ **:
1. **λ³΄μ•**: μ—°κ²°μ„ μμΈ΅ν•κΈ° μ–΄λ ¤μ›€
2. **μ¬μ‚¬μ© λ°©μ§€**: μ΄μ „ μ—°κ²°μ ν¨ν‚·κ³Ό νΌλ™ λ°©μ§€

### μ‹ν€€μ¤ λ²νΈ μ‚¬μ© μμ‹

```
ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„: SEQ=1000, Len=100  (λ°μ΄ν„°: 1000~1099)
μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ: ACK=1100           ("1100λ¶€ν„° λ³΄λ‚΄")

ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„: SEQ=1100, Len=50   (λ°μ΄ν„°: 1100~1149)
μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ: ACK=1150           ("1150λ¶€ν„° λ³΄λ‚΄")
```

## π« μ—°κ²° μ‹¤ν¨ μΌ€μ΄μ¤

### μΌ€μ΄μ¤ 1: μ„λ²„κ°€ μ‘λ‹µν•μ§€ μ•μ

```
ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„: SYN
(μ‘λ‹µ μ—†μ)

ν΄λΌμ΄μ–ΈνΈ:
  1μ΄ ν›„ μ¬μ‹λ„: SYN
  2μ΄ ν›„ μ¬μ‹λ„: SYN
  4μ΄ ν›„ μ¬μ‹λ„: SYN
  ...
  μµλ€ μ¬μ‹λ„ νμ μ΄κ³Ό β†’ Connection Timeout
```

**μ›μΈ**:
- μ„λ²„κ°€ λ‹¤μ΄
- λ°©ν™”λ²½ μ°¨λ‹¨
- λ„¤νΈμ›ν¬ λ¬Έμ 

### μΌ€μ΄μ¤ 2: μ„λ²„κ°€ κ±°λ¶€

```
ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„: SYN
μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ: RST, ACK  (μ—°κ²° κ±°λ¶€)

ν΄λΌμ΄μ–ΈνΈ: Connection Refused
```

**μ›μΈ**:
- ν•΄λ‹Ή ν¬νΈμ— μ„λ²„κ°€ λ¦¬μ¤λ‹ν•μ§€ μ•μ
- μ„λ²„κ°€ λ…μ‹μ μΌλ΅ κ±°λ¶€

### μΌ€μ΄μ¤ 3: SYN Flood κ³µκ²©

```
κ³µκ²©μ:
  SYN (fake source) β†’ μ„λ²„
  SYN (fake source) β†’ μ„λ²„
  SYN (fake source) β†’ μ„λ²„
  ...

μ„λ²„:
  κ° SYNμ— λ€ν•΄ SYN-ACK μ‘λ‹µ
  ACKλ¥Ό κΈ°λ‹¤λ¦¬λ©° λ¦¬μ†μ¤ ν• λ‹Ή
  β†’ λ©”λ¨λ¦¬ κ³ κ°!
```

**λ°©μ–΄ κΈ°λ²•**:
1. **SYN Cookies**: μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μ
2. **Rate Limiting**: κ°™μ€ IPμ SYN μ ν•
3. **SYN Proxy**: λ°©ν™”λ²½μ΄ λ¨Όμ € κ²€μ¦

## π”„ 4-Way Handshake (μ—°κ²° μΆ…λ£)

μ—°κ²° μΆ…λ£λ” 4λ‹¨κ³„λ΅ μ΄λ£¨μ–΄μ§:

```
ν΄λΌμ΄μ–ΈνΈ                           μ„λ²„
    β”‚                                 β”‚
    β”‚  1. FIN (seq=1500)              β”‚
    β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’  β”‚
    β”‚                                 β”‚
    β”‚  2. ACK (ack=1501)              β”‚
    β”‚ β†β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€  β”‚
    β”‚                                 β”‚
    β”‚  3. FIN (seq=3200)              β”‚
    β”‚ β†β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€  β”‚
    β”‚                                 β”‚
    β”‚  4. ACK (ack=3201)              β”‚
    β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’  β”‚
    β”‚                                 β”‚
    β”‚     CLOSED                      β”‚  CLOSED
```

**μ™ 4-WayμΈκ°€?**
- TCPλ” **μ „μ΄μ¤‘ (Full-Duplex)** ν†µμ‹ 
- κ° λ°©ν–¥μ„ λ…λ¦½μ μΌλ΅ μΆ…λ£ν•΄μ•Ό ν•¨

### Half-Close μƒνƒ

```
ν΄λΌμ΄μ–ΈνΈκ°€ FIN λ³΄λƒ„:
  ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„: λ” μ΄μƒ λ³΄λ‚Ό λ°μ΄ν„° μ—†μ
  μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ: μ•„μ§ λ³΄λ‚Ό λ°μ΄ν„° μμ (κ°€λ¥)

μ΄ μƒνƒλ¥Ό Half-CloseλΌκ³  ν•¨
```

## π§ μ‹¤μµ: μ†μΌ“ ν”„λ΅κ·Έλλ°μΌλ΅ ν™•μΈ

### Python μ„λ²„
```python
import socket

# μ„λ²„ μ†μΌ“ μƒμ„±
server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server_socket.bind(('0.0.0.0', 8080))
server_socket.listen(5)  # LISTEN μƒνƒ

print("μ„λ²„ λ€κΈ° μ¤‘...")

# μ—°κ²° μλ½ (3-Way Handshake λ°μƒ)
client_socket, addr = server_socket.accept()
print(f"μ—°κ²°λ¨: {addr}")  # ESTABLISHED μƒνƒ

data = client_socket.recv(1024)
print(f"λ°›μ€ λ°μ΄ν„°: {data}")

client_socket.send(b"Hello, Client!")
client_socket.close()  # 4-Way Handshake λ°μƒ
```

### Python ν΄λΌμ΄μ–ΈνΈ
```python
import socket

# ν΄λΌμ΄μ–ΈνΈ μ†μΌ“ μƒμ„±
client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# μ—°κ²° (3-Way Handshake λ°μƒ)
client_socket.connect(('localhost', 8080))  # SYN β†’ SYN-ACK β†’ ACK
print("μ„λ²„μ— μ—°κ²°λ¨")  # ESTABLISHED μƒνƒ

client_socket.send(b"Hello, Server!")
data = client_socket.recv(1024)
print(f"λ°›μ€ λ°μ΄ν„°: {data}")

client_socket.close()  # 4-Way Handshake λ°μƒ
```

### tcpdumpλ΅ ν™•μΈ
```bash
sudo tcpdump -i lo -n "port 8080"

# μ¶λ ¥ μμ‹:
# IP 127.0.0.1.51234 > 127.0.0.1.8080: Flags [S], seq 1000
# IP 127.0.0.1.8080 > 127.0.0.1.51234: Flags [S.], seq 3000, ack 1001
# IP 127.0.0.1.51234 > 127.0.0.1.8080: Flags [.], ack 3001
```

## π― μ²΄ν¬λ¦¬μ¤νΈ

- [ ] 3-Way Handshakeλ¥Ό κ·Έλ¦ΌμΌλ΅ κ·Έλ¦΄ μ μλ‹¤
- [ ] SYN, ACK ν”λκ·Έμ μλ―Έλ¥Ό μ„¤λ…ν•  μ μλ‹¤
- [ ] μ‹ν€€μ¤ λ²νΈμ μ—­ν• μ„ μ΄ν•΄ν•λ‹¤
- [ ] μ™ 2-Wayκ°€ μ•„λ‹ 3-WayμΈμ§€ μ„¤λ…ν•  μ μλ‹¤
- [ ] Wiresharkλ΅ μ‹¤μ  ν•Έλ“μ…°μ΄ν¬λ¥Ό μΊ΅μ²ν–λ‹¤
- [ ] 4-Way Handshake (μ—°κ²° μΆ…λ£)λ¥Ό μ΄ν•΄ν•λ‹¤
- [ ] SYN Flood κ³µκ²©κ³Ό λ°©μ–΄λ¥Ό μ„¤λ…ν•  μ μλ‹¤

## π”— λ‹¤μ ν•™μµ

- [02-TCP-Flow-Control.md](./02-TCP-Flow-Control.md) - νλ¦„ μ μ–΄
- [03-TCP-Congestion-Control.md](./03-TCP-Congestion-Control.md) - νΌμ΅ μ μ–΄

---

**"3-Way Handshakeλ¥Ό μ΄ν•΄ν•λ©΄ TCPμ μ‹ λΆ°μ„±μ΄ μ–΄λ–»κ² λ³΄μ¥λλ”μ§€ λ³΄μΈλ‹¤"**
